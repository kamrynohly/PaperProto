{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/graceli/Documents/Dev/PaperProtoTwo/PaperProto/lib/firebase.js"],"sourcesContent":["// lib/firebase.js\nimport { initializeApp, getApps } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\n\n// Our Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID\n};\n\n// Initialize Firebase only if it hasn't been initialized yet\nlet firebaseApp;\nif (!getApps().length) {\n  firebaseApp = initializeApp(firebaseConfig);\n} else {\n  firebaseApp = getApps()[0];\n}\n\n// Export Firebase services\nexport const auth = getAuth(firebaseApp);\nexport const db = getFirestore(firebaseApp);\n\nexport default firebaseApp;"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;AAOR;AANV;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,6BAA6B;AAC7B,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,6DAA6D;AAC7D,IAAI;AACJ,IAAI,CAAC,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;IACrB,cAAc,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AAC9B,OAAO;IACL,cAAc,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD,GAAG,CAAC,EAAE;AAC5B;AAGO,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;uCAEhB","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/graceli/Documents/Dev/PaperProtoTwo/PaperProto/components/BottomNavigation.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport Image from 'next/image';\n\nconst BottomNavigation = () => {\n  const pathname = usePathname();\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) {\n    return null;\n  }\n\n  const tabs = [\n    {\n      name: 'Community',\n      href: '/community',\n      iconSrc: '/arcade.png',\n      alt: 'Community Icon'\n    },\n    {\n      name: 'Create',\n      href: '/create',\n      iconSrc: '/console.png',\n      alt: 'Create Icon'\n    },\n    {\n      name: 'Profile',\n      href: '/profile',\n      iconSrc: '/profile.png',\n      alt: 'Profile Icon'\n    },\n  ];\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 h-16 bg-gray-900 border-t-4 border-indigo-600 flex items-center justify-around z-50 shadow-lg\">\n      {tabs.map((tab) => {\n        const isActive = pathname === tab.href || pathname.startsWith(`${tab.href}/`);\n\n        return (\n          <Link \n            key={tab.name}\n            href={tab.href}\n            className={`flex flex-col items-center justify-center w-full h-full transition-transform duration-200 hover:scale-110 ${\n              isActive \n                ? 'text-pink-500 relative after:content-[\"\"] after:absolute after:bottom-0 after:left-1/4 after:right-1/4 after:h-1' \n                : 'text-gray-400 hover:text-indigo-400'\n            }`}\n            style={{\n              textShadow: isActive ? '0px 0px 6px rgba(236, 72, 153, 0.6)' : 'none',\n            }}\n          >\n            <div className={`p-1 ${isActive ? 'bg-gray-700 rounded-md border-2 border-indigo-500' : ''}`}>\n              <Image\n                src={tab.iconSrc}\n                alt={tab.alt}\n                width={32}\n                height={32}\n                className=\"object-contain\"\n                priority\n              />\n            </div>\n          </Link>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default BottomNavigation;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,MAAM,mBAAmB;;IACvB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,WAAW;QACb;qCAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,MAAM,OAAO;QACX;YACE,MAAM;YACN,MAAM;YACN,SAAS;YACT,KAAK;QACP;QACA;YACE,MAAM;YACN,MAAM;YACN,SAAS;YACT,KAAK;QACP;QACA;YACE,MAAM;YACN,MAAM;YACN,SAAS;YACT,KAAK;QACP;KACD;IAED,qBACE,6LAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC;YACT,MAAM,WAAW,aAAa,IAAI,IAAI,IAAI,SAAS,UAAU,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;YAE5E,qBACE,6LAAC,+JAAA,CAAA,UAAI;gBAEH,MAAM,IAAI,IAAI;gBACd,WAAW,CAAC,0GAA0G,EACpH,WACI,qHACA,uCACJ;gBACF,OAAO;oBACL,YAAY,WAAW,wCAAwC;gBACjE;0BAEA,cAAA,6LAAC;oBAAI,WAAW,CAAC,IAAI,EAAE,WAAW,sDAAsD,IAAI;8BAC1F,cAAA,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAK,IAAI,OAAO;wBAChB,KAAK,IAAI,GAAG;wBACZ,OAAO;wBACP,QAAQ;wBACR,WAAU;wBACV,QAAQ;;;;;;;;;;;eAlBP,IAAI,IAAI;;;;;QAuBnB;;;;;;AAGN;GAlEM;;QACa,qIAAA,CAAA,cAAW;;;KADxB;uCAoES","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/graceli/Documents/Dev/PaperProtoTwo/PaperProto/components/DinoGame.js"],"sourcesContent":["// components/DinoGame.js\n\"use client\";\nimport { useEffect, useRef } from \"react\";\n\nexport default function DinoGame() {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    container.innerHTML = \"\";\n\n    // create sandboxed iframe\n    const iframe = document.createElement(\"iframe\");\n    Object.assign(iframe.style, {\n      width: \"100%\",\n      height: \"100%\",\n      border: \"none\",\n    });\n    iframe.allow = \"accelerometer; autoplay\";\n    iframe.title = \"Dino Game\";\n    container.appendChild(iframe);\n\n    const doc = iframe.contentDocument || iframe.contentWindow.document;\n    doc.open();\n    doc.write(`<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <base href=\"/\" />\n  <meta charset=\"utf-8\"/>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>\n  <link\n    href=\"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap\"\n    rel=\"stylesheet\"\n  />\n  <style>\n    :root {\n      --bg: #171717;\n      --fg: #ededed;\n      --accent: #EC4899;\n      --border: #6366F1;\n      --shadow: #2D3748;\n    }\n    html, body {\n      margin: 0; padding: 0;\n      width: 100%; height: 100%;\n      background: var(--bg);\n      font-family: 'Press Start 2P', cursive;\n      overflow: hidden;\n    }\n    .game-container {\n      position: relative;\n      width: 900px;    /* 600×1.5 */\n      height: 300px;   /* taller */\n      margin: auto;\n      top: 50%; transform: translateY(-50%);\n      background: #222;\n      border: 4px solid var(--border);\n      box-shadow: 4px 4px 0 var(--shadow), -4px -4px 0 var(--shadow);\n      border-radius: 4px;\n      overflow: hidden;\n      image-rendering: pixelated;\n    }\n    .score {\n      position: absolute;\n      top: 8px; left: 50%;\n      transform: translateX(-50%);\n      color: var(--accent);\n      text-shadow: 1px 1px 0 var(--border);\n      font-size: 16px;\n    }\n    .ground {\n      position: absolute;\n      bottom: 0; width: 100%; height: 3px;\n      background: var(--fg);\n    }\n    /* console.png as player, mirrored */\n    #dino {\n      position: absolute;\n      bottom: 0; left: 100px;\n      width: 66px;   /* 44×1.5 */\n      height: 70px;  /* 47×1.5 */\n      background: url('/console.png') no-repeat center/contain;\n      transform: scaleX(-1);\n    }\n    .cactus {\n      position: absolute;\n      bottom: 0;\n      width: 25px;   /* ~17×1.5 */\n      background: var(--accent);\n    }\n    .cloud {\n      position: absolute;\n      width: 70px;   /* ~46×1.5 */\n      height: 20px;  /* ~14×1.5 */\n      background: var(--fg);\n      opacity: 0.4;\n      border-radius: 50%;\n    }\n    .start-message,\n    .game-over {\n      position: absolute;\n      left: 50%; transform: translateX(-50%);\n      color: var(--accent);\n      text-shadow: 1px 1px 0 var(--border);\n      text-align: center;\n      font-size: 14px;\n    }\n    .start-message {\n      top: 50%; transform: translate(-50%, -80px);\n    }\n    .game-over {\n      top: 50%; transform: translate(-50%, -50%);\n      display: none;\n      font-size: 16px;\n    }\n    .restart-btn {\n      display: block;\n      margin: 8px auto 0;\n      padding: 6px 12px;\n      background: var(--border);\n      color: #fff;\n      border: none;\n      box-shadow: 2px 2px 0 var(--shadow);\n      font-family: 'Press Start 2P', cursive;\n      cursor: pointer;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"game-container\">\n    <div class=\"score\">Score: 0</div>\n    <div class=\"ground\"></div>\n    <div id=\"dino\"></div>\n    <div class=\"start-message\">PRESS SPACE OR TAP TO JUMP</div>\n    <div class=\"game-over\">\n      GAME OVER\n      <button class=\"restart-btn\">RESTART</button>\n    </div>\n  </div>\n  <script>\n    document.addEventListener('DOMContentLoaded', () => {\n      const dino      = document.getElementById('dino');\n      const container = document.querySelector('.game-container');\n      const scoreEl   = document.querySelector('.score');\n      const overEl    = document.querySelector('.game-over');\n      const startEl   = document.querySelector('.start-message');\n      const btn       = document.querySelector('.restart-btn');\n\n      // physics & state\n      let pos = 0,\n          vel = 0,\n          gravity = 0.5,       // slower falling\n          speed = 5,\n          score = 0,\n          jumpsRemaining = 2,\n          started = false,\n          over = false;\n\n      const cacti = [];\n      const clouds = [];\n\n      function jump() {\n        if (over || jumpsRemaining === 0) return;\n        if (!started) {\n          started = true;\n          startEl.style.display = 'none';\n          loop();\n        }\n        vel = 12;\n        jumpsRemaining--;\n      }\n\n      function spawnCactus() {\n        if (over) return;\n        setTimeout(() => {\n          if (over) return;\n          const c = document.createElement('div');\n          c.className = 'cactus';\n          // random height 60–110px\n          const h = Math.random() * 60 + 60;\n          c.style.height = h + 'px';\n          container.appendChild(c);\n          c.style.left = '900px';\n          cacti.push(c);\n          moveObstacle(c);\n          spawnCactus();\n        }, Math.random() * 3000 + 1000);\n      }\n\n      function spawnCloud() {\n        if (over) return;\n        setTimeout(() => {\n          if (over) return;\n          const cl = document.createElement('div');\n          cl.className = 'cloud';\n          container.appendChild(cl);\n          cl.style.left = '900px';\n          cl.style.top = (Math.random() * 200 + 20) + 'px';\n          clouds.push(cl);\n          moveCloud(cl);\n          spawnCloud();\n        }, Math.random() * 3000 + 2000);\n      }\n\n      function moveObstacle(el) {\n        let x = 900;\n        const ti = setInterval(() => {\n          if (over) return clearInterval(ti);\n          x -= speed;\n          el.style.left = x + 'px';\n          // collision zone\n          if (x < 166 && x + el.offsetWidth > 100 && pos < 10) {\n            return gameOver(ti);\n          }\n          if (x < -30) {\n            el.remove();\n            clearInterval(ti);\n            score++;\n            scoreEl.textContent = 'Score: ' + score;\n            if (score % 10 === 0 && speed < 15) speed += 1;\n          }\n        }, 20);\n      }\n\n      function moveCloud(el) {\n        let x = 900;\n        const sp = speed * 0.3;\n        const ti = setInterval(() => {\n          if (over) return clearInterval(ti);\n          x -= sp;\n          el.style.left = x + 'px';\n          if (x < -50) {\n            el.remove();\n            clearInterval(ti);\n          }\n        }, 20);\n      }\n\n      function loop() {\n        // apply physics\n        pos += vel;\n        vel -= gravity;\n        if (pos <= 0) {\n          pos = 0;\n          vel = 0;\n          jumpsRemaining = 2;\n        }\n        dino.style.bottom = pos + 'px';\n        if (!over) requestAnimationFrame(loop);\n      }\n\n      function gameOver(ti) {\n        over = true;\n        overEl.style.display = 'block';\n        clearInterval(ti);\n      }\n\n      function restart() {\n        // clear existing obstacles & clouds\n        cacti.forEach(c => c.remove());\n        clouds.forEach(c => c.remove());\n        cacti.length = 0;\n        clouds.length = 0;\n\n        // reset state\n        pos = 0; vel = 0; gravity = 0.5;\n        speed = 5; score = 0;\n        jumpsRemaining = 2;\n        started = false; over = false;\n\n        scoreEl.textContent = 'Score: 0';\n        overEl.style.display = 'none';\n        startEl.style.display = 'block';\n        dino.style.bottom = '0px';\n\n        // restart spawns\n        spawnCactus();\n        spawnCloud();\n      }\n\n      // initial spawns\n      spawnCactus();\n      spawnCloud();\n\n      // input\n      document.addEventListener('keydown', e => {\n        if (e.code === 'Space') {\n          e.preventDefault();\n          over ? restart() : jump();\n        }\n      });\n      document.addEventListener('touchstart', e => {\n        e.preventDefault();\n        over ? restart() : jump();\n      });\n      btn.addEventListener('click', restart);\n    });\n  </script>\n</body>\n</html>`);\n    doc.close();\n\n    return () => {\n      container.innerHTML = \"\";\n    };\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"w-full h-full pixel-border crt-on scanline\"\n    />\n  );\n}\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AAEzB;;;AADA;;AAGe,SAAS;;IACtB,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAE5B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,MAAM,YAAY,aAAa,OAAO;YACtC,UAAU,SAAS,GAAG;YAEtB,0BAA0B;YAC1B,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,MAAM,CAAC,OAAO,KAAK,EAAE;gBAC1B,OAAO;gBACP,QAAQ;gBACR,QAAQ;YACV;YACA,OAAO,KAAK,GAAG;YACf,OAAO,KAAK,GAAG;YACf,UAAU,WAAW,CAAC;YAEtB,MAAM,MAAM,OAAO,eAAe,IAAI,OAAO,aAAa,CAAC,QAAQ;YACnE,IAAI,IAAI;YACR,IAAI,KAAK,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAmRR,CAAC;YACJ,IAAI,KAAK;YAET;sCAAO;oBACL,UAAU,SAAS,GAAG;gBACxB;;QACF;6BAAG,EAAE;IAEL,qBACE,6LAAC;QACC,KAAK;QACL,WAAU;;;;;;AAGhB;GArTwB;KAAA","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///Users/graceli/Documents/Dev/PaperProtoTwo/PaperProto/components/GameDisplay.js"],"sourcesContent":["\"use client\"\n// components/GameDisplay.js\n\nimport { useState, useEffect, useRef } from 'react';\nimport DinoGame from './DinoGame';\n\nexport default function GameDisplay({ gameCode, gameType, loading }) {\n  const [gameTitle, setGameTitle] = useState('');\n  const gameContainerRef = useRef(null);\n  const iframeRef = useRef(null);\n\n  // Update display title when gameType changes\n  useEffect(() => {\n    if (gameType) {\n      const formattedType = gameType\n        .split('-')\n        .map(w => w.charAt(0).toUpperCase() + w.slice(1))\n        .join(' ');\n      setGameTitle(formattedType);\n    }\n  }, [gameType]);\n\n  // Render the generated game into an iframe\n  useEffect(() => {\n    if (!gameCode || !gameContainerRef.current) return;\n\n    try {\n      // Clear previous content\n      gameContainerRef.current.innerHTML = '';\n      if (iframeRef.current) iframeRef.current.remove();\n\n      // Create sandbox iframe\n      const iframe = document.createElement('iframe');\n      iframe.style.width = '100%';\n      iframe.style.height = '100%';\n      iframe.style.border = 'none';\n      iframe.allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';\n      iframe.title = gameTitle || 'Game';\n\n      iframeRef.current = iframe;\n      gameContainerRef.current.appendChild(iframe);\n\n      // Extract HTML, CSS, JS from the generated code\n      let htmlContent = '', cssContent = '', jsContent = '';\n      const htmlMatch = gameCode.match(/<html[^>]*>([\\s\\S]*)<\\/html>/i);\n      const bodyMatch = gameCode.match(/<body[^>]*>([\\s\\S]*)<\\/body>/i);\n      const cssMatch  = gameCode.match(/<style[^>]*>([\\s\\S]*)<\\/style>/i);\n      const jsMatch   = gameCode.match(/<script[^>]*>([\\s\\S]*)<\\/script>/i);\n\n      if (htmlMatch) htmlContent = htmlMatch[1];\n      else if (bodyMatch) htmlContent = bodyMatch[1];\n      else htmlContent = gameCode;\n\n      if (cssMatch) cssContent = cssMatch[1];\n      if (jsMatch)  jsContent  = jsMatch[1];\n\n      // Write into iframe with dark theme\n      setTimeout(() => {\n        const doc = iframe.contentDocument;\n        doc.open();\n        doc.write(`\n          <!DOCTYPE html>\n          <html>\n          <head>\n            <meta charset=\"utf-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n            <title>${gameTitle || 'Game'}</title>\n            <link href=\"https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Pixelify+Sans:wght@400..700&display=swap\" rel=\"stylesheet\">\n            <style>\n              body {\n                margin:0; padding:0;\n                overflow:hidden;\n                display:flex; justify-content:center; align-items:center;\n                width:100%; height:100%;\n                background-color: #161B22;\n                color: #FFFFFF;\n                font-family: 'Pixelify Sans', sans-serif;\n              }\n              ${cssContent}\n            </style>\n          </head>\n          <body>\n            ${htmlContent}\n            <script>\n              // Track image loading\n              const OriginalImage = window.Image;\n              const promises = [];\n              window.Image = function() {\n                const img = new OriginalImage();\n                promises.push(new Promise(r => {\n                  img.onload = r;\n                  img.onerror = r;\n                }));\n                return img;\n              };\n\n              Promise.all(promises).finally(() => {\n                // Run any exposed game loops\n                [window.gameLoop, window.update, window.animate, window.draw, window.render, window.loop]\n                  .filter(fn => typeof fn === 'function')\n                  .forEach(fn => { try { fn(); } catch(e){} });\n              });\n\n              ${jsContent}\n            </script>\n          </body>\n          </html>\n        `);\n        doc.close();\n      }, 0);\n\n    } catch (error) {\n      console.error('Error rendering game:', error);\n      gameContainerRef.current.innerHTML = `\n        <div class=\"p-4 bg-indigo-900 text-red-300 rounded-lg pixel-border\">\n          <p class=\"font-bold retro-text text-sm\">Error rendering game:</p>\n          <p>${error.message}</p>\n        </div>\n      `;\n    }\n  }, [gameCode, gameTitle]);\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"flex-1 flex items-center justify-center bg-gray-900 p-2\">\n        {loading ? (\n          <div className=\"relative w-full h-full flex flex-col\">\n            {/* Dino fallback */}\n            <div className=\"flex-1 w-full h-full pixel-border rounded-lg overflow-hidden bg-gray-800 crt-on\">\n              <DinoGame />\n            </div>\n            {/* Loading message */}\n            <div className=\"absolute bottom-30 left-0 right-0 text-center\">\n              {/* <p className=\"text-lg font-medium retro-text text-indigo-300\">\n                Play while we cook!\n              </p> */}\n            </div>\n          </div>\n        ) : gameCode ? (\n          <div\n            ref={gameContainerRef}\n            className=\"w-full h-full flex items-center justify-center overflow-auto pixel-border rounded-lg bg-gray-800 crt-on\"\n          />\n        ) : (\n          <div className=\"text-center max-w-md bg-gray-800 p-8 rounded-lg pixel-border crt-on\">\n            <p className=\"text-lg font-medium retro-text text-indigo-300 mb-2\">\n              What would you like to play?\n            </p>\n            <p className=\"text-sm text-pink-400 font-normal\">\n              Describe your game and I will create it for you!\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 708, "column": 0}, "map": {"version":3,"sources":["file:///Users/graceli/Documents/Dev/PaperProtoTwo/PaperProto/components/RetroLeaderboard.js"],"sourcesContent":["// components/RetroLeaderboard.js\nimport { useState, useEffect } from 'react';\n\nexport default function RetroLeaderboard({ gameId }) {\n  const [playerName, setPlayerName] = useState('');\n  const [playerScore, setPlayerScore] = useState('');\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState('');\n\n  // Load leaderboard data from localStorage on component mount\n  useEffect(() => {\n    const storedData = localStorage.getItem(`leaderboard-${gameId}`);\n    if (storedData) {\n      try {\n        setLeaderboard(JSON.parse(storedData));\n      } catch (err) {\n        console.error('Error loading leaderboard data:', err);\n        setLeaderboard([]);\n      }\n    }\n  }, [gameId]);\n\n  // Handle form submission\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setError('');\n    \n    if (!playerName.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n    \n    if (!playerScore || isNaN(parseInt(playerScore))) {\n      setError('Please enter a valid score');\n      return;\n    }\n    \n    setIsSubmitting(true);\n    \n    // Create new entry\n    const newEntry = {\n      id: Date.now().toString(),\n      name: playerName.trim(),\n      score: parseInt(playerScore),\n      date: new Date().toISOString()\n    };\n    \n    // Add to leaderboard, sort, and keep top 10\n    const updatedLeaderboard = [...leaderboard, newEntry]\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 5);\n    \n    // Update state and localStorage\n    setLeaderboard(updatedLeaderboard);\n    localStorage.setItem(`leaderboard-${gameId}`, JSON.stringify(updatedLeaderboard));\n    \n    // Reset form\n    setPlayerName('');\n    setPlayerScore('');\n    setIsSubmitting(false);\n    setSuccess(true);\n    \n    // Clear success message after 2 seconds\n    setTimeout(() => setSuccess(false), 2000);\n  };\n\n  // Format date for display (e.g., \"Apr 20\")\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(undefined, { month: 'short', day: 'numeric' });\n  };\n\n  return (\n    <div className=\"bg-gray-900 rounded-lg overflow-hidden shadow-lg border-2 border-indigo-500\">\n      {/* Header */}\n      <div className=\"bg-indigo-900 px-4 py-3 border-b-4 border-pink-500\">\n        <h4 className=\"text-xl font-bold text-pink-400\"\n            style={{ fontFamily: '\"Press Start 2P\", cursive', textShadow: '2px 2px 0px #2D3748' }}>\n          HIGH SCORES\n        </h4>\n      </div>\n      \n      {/* Leaderboard table */}\n      <div className=\"p-3\">\n        <div className=\"bg-gray-800 rounded overflow-hidden border-2 border-indigo-700\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"bg-indigo-800\">\n                <th className=\"py-2 px-2 text-indigo-300 text-left text-xs\"\n                    style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                  RANK\n                </th>\n                <th className=\"py-2 text-indigo-300 text-left text-xs\"\n                    style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                  PLAYER\n                </th>\n                <th className=\"py-2 text-indigo-300 text-right text-xs\"\n                    style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                  SCORE\n                </th>\n                <th className=\"py-2 pr-2 text-indigo-300 text-right text-xs\"\n                    style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                  DATE\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {leaderboard.length > 0 ? (\n                leaderboard.map((entry, index) => (\n                  <tr \n                    key={entry.id} \n                    className={`\n                      ${index % 2 === 0 ? 'bg-gray-900' : 'bg-gray-800'} \n                      hover:bg-indigo-800 transition-colors duration-150\n                      ${index === 0 ? 'bg-indigo-900 bg-opacity-40' : ''}\n                    `}\n                  >\n                    <td className=\"py-2 px-2 text-yellow-400 text-xs\"\n                        style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                      {index + 1}\n                    </td>\n                    <td className=\"py-2 text-gray-100 text-xs\"\n                        style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                      {entry.name}\n                    </td>\n                    <td className=\"py-2 text-right text-pink-400 text-xs\"\n                        style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                      {entry.score.toLocaleString()}\n                    </td>\n                    <td className=\"py-2 pr-2 text-right text-gray-400 text-xs\"\n                        style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                      {formatDate(entry.date)}\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan=\"4\" className=\"py-6 text-center text-gray-400 text-xs\"\n                      style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n                    NO SCORES YET\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n      \n      {/* Submit form */}\n      <div className=\"px-3 pb-3\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"grid grid-cols-2 gap-2 mb-2\">\n            <input\n              type=\"text\"\n              value={playerName}\n              onChange={(e) => setPlayerName(e.target.value)}\n              placeholder=\"YOUR NAME\"\n              maxLength={15}\n              className=\"px-3 py-2 bg-gray-800 border-2 border-indigo-600 rounded text-white text-xs\"\n              style={{ fontFamily: '\"Press Start 2P\", cursive' }}\n              disabled={isSubmitting}\n            />\n            <input\n              type=\"number\"\n              value={playerScore}\n              onChange={(e) => setPlayerScore(e.target.value)}\n              placeholder=\"YOUR SCORE\"\n              className=\"px-3 py-2 bg-gray-800 border-2 border-indigo-600 rounded text-white text-xs\"\n              style={{ fontFamily: '\"Press Start 2P\", cursive' }}\n              disabled={isSubmitting}\n            />\n          </div>\n          \n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"w-full px-4 py-2 bg-pink-600 hover:bg-pink-700 rounded border-2 border-pink-500 transition-colors duration-150 text-xs\"\n            style={{ \n              fontFamily: '\"Press Start 2P\", cursive',\n              boxShadow: '0 4px 0 #4F46E5'\n            }}\n          >\n            {isSubmitting ? 'SUBMITTING...' : 'SUBMIT SCORE'}\n          </button>\n          \n          {error && (\n            <div className=\"mt-2 text-red-400 text-center text-xs\"\n                style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n              {error}\n            </div>\n          )}\n          \n          {success && (\n            <div className=\"mt-2 text-green-400 text-center text-xs animate-pulse\"\n                style={{ fontFamily: '\"Press Start 2P\", cursive' }}>\n              SCORE ADDED!\n            </div>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1081, "column": 0}, "map": {"version":3,"sources":["file:///Users/graceli/Documents/Dev/PaperProtoTwo/PaperProto/app/games/%5Bid%5D/page.js"],"sourcesContent":["// app/games/[id]/page.js\n'use client';\n\nimport { useState, useEffect, use } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { doc, getDoc, updateDoc, arrayRemove, increment, arrayUnion, onSnapshot } from 'firebase/firestore';\nimport { db } from '../../../lib/firebase';\nimport BottomNavigation from '../../../components/BottomNavigation';\nimport GameDisplay from '../../../components/GameDisplay';\nimport { useAuth } from '../../../contexts/AuthContext';\nimport RetroLeaderboard from '../../../components/RetroLeaderboard';\n\nexport default function GamePage({ params }) {\n  const router = useRouter();\n  const gameId = use(params).id;\n  const [game, setGame] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [userRating, setUserRating] = useState(0);\n  const [isFavorite, setIsFavorite] = useState(false);\n\n  const { currentUser, userData } = useAuth();\n\n  // Initial data fetch\n  useEffect(() => {\n    const fetchGame = async () => {\n      try {\n        setLoading(true);\n        const gameRef = doc(db, 'games', gameId);\n        const gameSnap = await getDoc(gameRef);\n        \n        if (gameSnap.exists()) {\n          const gameData = {\n            id: gameSnap.id,\n            ...gameSnap.data()\n          };\n          \n          setGame(gameData);\n\n          // Add a view count\n          const currentPlays = gameData.playCount || 0;\n          await updateDoc(gameRef, {\n            playCount: currentPlays + 1\n          });\n        } else {\n          console.error(\"Game not found\");\n          setGame(null);\n        }\n        \n        setLoading(false);\n      } catch (error) {\n        console.error(\"Failed to fetch game:\", error);\n        setLoading(false);\n      }\n    };\n\n    fetchGame();\n  }, [gameId]);\n\n  // Real-time listener for favorites changes\n  useEffect(() => {\n    if (!currentUser) return;\n    \n    console.log(\"Setting up real-time listener for user favorites\");\n    \n    // Set up real-time listener on the user document\n    const userRef = doc(db, 'users', currentUser.uid);\n    const unsubscribe = onSnapshot(userRef, (userDoc) => {\n      if (userDoc.exists()) {\n        const userData = userDoc.data();\n        const favorites = userData.favorites || [];\n        console.log(\"Favorites updated in real-time:\", favorites);\n        setIsFavorite(favorites.includes(gameId));\n      }\n    }, (error) => {\n      console.error(\"Error in favorites listener:\", error);\n    });\n    \n    // Clean up listener when component unmounts\n    return () => {\n      console.log(\"Cleaning up favorites listener\");\n      unsubscribe();\n    };\n  }, [currentUser, gameId]);\n  \n  // Real-time listener for game data changes\n  useEffect(() => {\n    console.log(\"Setting up real-time listener for game data\");\n    \n    const gameRef = doc(db, 'games', gameId);\n    const unsubscribe = onSnapshot(gameRef, (gameDoc) => {\n      if (gameDoc.exists()) {\n        const gameData = {\n          id: gameDoc.id,\n          ...gameDoc.data()\n        };\n        console.log(\"Game data updated in real-time:\", gameData);\n        setGame(gameData);\n      } else {\n        console.error(\"Game document no longer exists\");\n        setGame(null);\n      }\n    }, (error) => {\n      console.error(\"Error in game data listener:\", error);\n    });\n    \n    // Clean up listener when component unmounts\n    return () => {\n      console.log(\"Cleaning up game data listener\");\n      unsubscribe();\n    };\n  }, [gameId]);\n\n  // Handle rating updates\n  useEffect(() => {\n    if (!currentUser || !game) return;\n    \n    // Check if user has already rated this game\n    const userRef = doc(db, 'users', currentUser.uid);\n    getDoc(userRef).then((userDoc) => {\n      if (userDoc.exists()) {\n        const userData = userDoc.data();\n        const ratings = userData.ratings || {};\n        if (ratings[gameId]) {\n          setUserRating(ratings[gameId]);\n        }\n      }\n    }).catch(error => {\n      console.error(\"Error fetching user ratings:\", error);\n    });\n  }, [currentUser, gameId, game]);\n\n  const handleRatingClick = async (rating) => {\n    // Store the current rating before updating\n    const previousRating = userRating;\n    \n    // Update local state for immediate UI feedback\n    setUserRating(rating);\n    \n    try {\n      // Make sure we have the game data and user\n      if (!game || !currentUser) {\n        console.error(\"Game data or user is not available\");\n        return;\n      }\n      \n      // Get refs\n      const userRef = doc(db, 'users', currentUser.uid);\n      const gameRef = doc(db, 'games', gameId);\n      const creatorRef = doc(db, 'users', game.creator_id);\n      \n      // Get current user document to check for existing rating\n      const userDoc = await getDoc(userRef);\n      if (!userDoc.exists()) {\n        console.error(\"User document not found\");\n        return;\n      }\n      \n      const userData = userDoc.data();\n      const userRatings = userData.ratings || {};\n      const storedPreviousRating = userRatings[gameId] || 0;\n      \n      // Get current game document to update ratings array\n      const gameDoc = await getDoc(gameRef);\n      if (!gameDoc.exists()) {\n        console.error(\"Game document not found\");\n        return;\n      }\n      \n      const gameData = gameDoc.data();\n      const currentRatings = gameData.ratings || [];\n      let updatedRatings = [...currentRatings];\n      \n      // If user already rated, remove their previous rating\n      if (storedPreviousRating > 0) {\n        // Remove one instance of their previous rating\n        const index = updatedRatings.indexOf(storedPreviousRating);\n        if (index !== -1) {\n          updatedRatings.splice(index, 1);\n        }\n      }\n      \n      // Add new rating\n      updatedRatings.push(rating);\n      \n      // Calculate new average\n      const avgRating = updatedRatings.length > 0 \n        ? updatedRatings.reduce((sum, r) => sum + r, 0) / updatedRatings.length \n        : 0;\n      \n      // Update game document with new ratings array and average\n      await updateDoc(gameRef, {\n        ratings: updatedRatings,\n        rating: avgRating // Update the avg_rating field\n      });\n      \n      // Update user document with their new rating\n      await updateDoc(userRef, {\n        [`ratings.${gameId}`]: rating\n      });\n      \n      console.log(`Updated rating for game ${gameId} to ${rating} stars (avg: ${avgRating.toFixed(1)})`);\n    } catch (error) {\n      // Revert UI state if operation fails\n      setUserRating(previousRating);\n      console.error(\"Error updating rating:\", error);\n    }\n  };\n\n  const toggleFavorite = async () => {\n    // Toggle state locally first for responsive UI\n    const newFavoriteState = !isFavorite;\n    setIsFavorite(newFavoriteState);\n    \n    try {\n      // Make sure we have the game data\n      if (!game) {\n        console.error(\"Game data is not available\");\n        return;\n      }\n      \n      // Check if user data is available\n      if (!currentUser) {\n        console.error(\"User data is not available\");\n        return;\n      }\n      \n      // Get the current user reference\n      const userRef = doc(db, 'users', currentUser.uid);\n      const gameRef = doc(db, 'games', game.id);\n      const creatorRef = doc(db, 'users', game.creator_id)\n      \n      if (newFavoriteState) {\n        // Adding to favorites - using arrayUnion to add to array\n        await updateDoc(userRef, {\n          favorites: arrayUnion(gameId)  // This creates the array if it doesn't exist\n        });\n        \n        // Optionally update the game's favorite count\n        await updateDoc(gameRef, {\n          favCount: increment(1)\n        });\n\n        // Update the creator's stats\n        await updateDoc(creatorRef, {\n          favCount: increment(1)\n        })\n      } else {\n        // Removing from favorites - using arrayRemove\n        await updateDoc(userRef, {\n          favorites: arrayRemove(gameId)\n        });\n        \n        // Optionally update the game's favorite count\n        await updateDoc(gameRef, {\n          favCount: increment(-1)\n        });\n\n        await updateDoc(creatorRef, {\n          favCount: increment(-1)\n        })\n      }\n      \n      console.log(`${newFavoriteState ? 'Added' : 'Removed'} game ${game.id} ${newFavoriteState ? 'to' : 'from'} favorites`);\n    } catch (error) {\n      // Revert UI state if operation fails\n      setIsFavorite(!newFavoriteState);\n      console.error(\"Error updating favorites:\", error);\n    }\n  };\n\n  const formatPlays = (plays) => {\n    if (!plays) return '0'; // Handle undefined plays\n\n    if (plays >= 1000000) {\n      return `${(plays / 1000000).toFixed(1)}M`;\n    } else if (plays >= 1000) {\n      return `${(plays / 1000).toFixed(1)}K`;\n    }\n    return plays.toString();\n  };\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-gray-900 text-gray-100\">\n      {/* Header with retro styling */}\n      <header className=\"bg-indigo-900 border-b-4 border-pink-500 shadow-lg\">\n        <div className=\"container mx-auto py-6 px-4\">\n          <h1 className=\"text-4xl font-bold text-center tracking-wider text-pink-500\" \n              style={{ \n                textShadow: '2px 2px 0px #4F46E5, 4px 4px 0px #2D3748',\n                fontFamily: '\"Press Start 2P\", cursive'\n              }}>\n            PAPERPROTO GAMES\n          </h1>\n        </div>\n      </header>\n\n      <main className=\"flex-1 flex flex-col container mx-auto px-4 py-4\">\n        {/* Back button */}\n        <Link href=\"/community\" className=\"inline-flex items-center mb-6 text-indigo-400 hover:text-indigo-300 transition-colors\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n          </svg>\n          Back to Arcade\n        </Link>\n        \n        {loading ? (\n          <div className=\"flex justify-center items-center\">\n            <div className=\"w-16 h-16 pixel-spinner\"></div>\n          </div>\n        ) : game ? (\n         <div className=\"flex-1 bg-gray-800 rounded-lg overflow-hidden border-2 border-gray-700 shadow-xl flex\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 flex-1\">\n              \n              {/* Left side - Game info */}\n              <div className=\"p-6 lg:p-8 flex flex-col\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <h1 className=\"text-3xl font-bold text-pink-400\">{game.title}</h1>\n                  <button \n                    onClick={toggleFavorite} \n                    className={`p-2 rounded-full transition-colors ${isFavorite ? 'text-red-500 bg-gray-700' : 'text-gray-400 hover:text-red-500 hover:bg-gray-700'}`}\n                    aria-label={isFavorite ? \"Remove from favorites\" : \"Add to favorites\"}\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill={isFavorite ? \"currentColor\" : \"none\"} viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n                    </svg>\n                  </button>\n                </div>\n                \n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center text-yellow-400 mr-4\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                    </svg>\n                    <span className=\"ml-1 font-bold\">{game.rating ? game.rating.toFixed(1) : '0.0'}</span>\n                  </div>\n                  <span className=\"text-gray-400\">{formatPlays(game.playCount)} plays</span>\n                </div>\n                \n                <div className=\"prose prose-invert max-w-none mb-8\">\n                  <p className=\"text-gray-300\">{game.description}</p>\n                </div>\n                \n                {/* Leaderboard */}\n                <div className=\"mt-4 mb-6\">\n                  <RetroLeaderboard gameId={gameId} />\n                </div>\n                \n                <div className=\"mt-auto\">\n                  <div className=\"mb-6\">\n                    <p className=\"text-gray-300 mb-2\">Rate this game:</p>\n                    <div className=\"flex items-center\">\n                      <div className=\"flex\">\n                        {[1, 2, 3, 4, 5].map((star) => (\n                          <button\n                            key={star}\n                            onClick={() => handleRatingClick(star)}\n                            className={`text-2xl mx-1 transition-colors ${\n                              userRating >= star \n                                ? 'text-yellow-400' \n                                : 'text-gray-600 hover:text-yellow-300'\n                            }`}\n                            aria-label={`Rate ${star} stars`}\n                            disabled={!currentUser}\n                          >\n                            ★\n                          </button>\n                        ))}\n                      </div>\n                      <div className=\"ml-4\">\n                        {userRating > 0 ? (\n                          <span className=\"text-gray-300 inline-block min-w-16\">Your rating: {userRating}</span>\n                        ) : currentUser ? (\n                          <span className=\"text-gray-400 inline-block min-w-16\">Not rated yet</span>\n                        ) : (\n                          <span className=\"text-gray-500 inline-block min-w-16\">Sign in to rate</span>\n                        )}\n                      </div>\n                    </div>\n                </div>\n                  \n                <div className=\"flex space-x-4\">\n                    <button className=\"px-4 py-2 bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors\">\n                      Share Game\n                    </button>\n                    <button className=\"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition-colors\">\n                      Report Issue\n                    </button>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Right side - Game canvas */}\n              <div className=\"flex-4\">\n                <GameDisplay \n                  gameCode={game.gameCode} \n                  gameType={game.title} \n                  loading={loading} \n                />\n              </div>\n              \n            </div>\n          </div>\n        ) : (\n          <div className=\"bg-gray-800 rounded-lg p-8 text-center\">\n            <p className=\"text-xl text-gray-400\">Game not found.</p>\n            <Link href=\"/community\" className=\"inline-block mt-4 px-4 py-2 bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors\">\n              Return to Arcade\n            </Link>\n          </div>\n        )}\n      </main>\n      {/* <BottomNavigation /> */}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}